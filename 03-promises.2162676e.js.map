{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,aCAe,SAAAC,EAAuBC,EAAUC,GAC9C,IAAMC,EAAgBC,KAAKC,SAAW,GAEtC,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3BC,YAAW,WACLN,EACFI,EAAQ,CAAEN,WAAUC,UAEpBM,EAAO,CAAEP,WAAUC,S,GAEpBA,E,IDNP,IACEQ,EELW,CACXC,OAAQ,CACNC,UAAWC,SAASC,cAAc,gBAClCC,QAASF,SAASC,cAAc,eAChCE,aAAcH,SAASI,MAEzBC,OAAQ,CACNC,WAAYN,SAASC,cAAc,+BACnCM,SAAUP,SAASC,cAAc,sBACjCO,eAAgBR,SAASS,iBAAiB,UAC1CC,QAASV,SAASC,cAAc,WAElCU,OAAQ,CAAEC,KAAMZ,SAASC,cAAc,WFPvCU,OAAUC,KAsCZ,SAASC,EAAiBC,G,IAAE1B,EAAF0B,EAAE1B,SAAUC,EAAZyB,EAAYzB,MACpC0B,EAAAC,OAAOC,QAAQ,qBAAoCC,OAAf9B,EAAS,QAAY8B,OAAN7B,EAAM,M,CAG3D,SAAS8B,EAAgBL,G,IAAE1B,EAAF0B,EAAE1B,SAAUC,EAAZyB,EAAYzB,MACnC0B,EAAAC,OAAOI,QAAQ,oBAAmCF,OAAf9B,EAAS,QAAY8B,OAAN7B,EAAM,M,CAxCzDgC,EAAApC,EAAA,CAAGY,EAAKyB,UAAUC,SAAQ,SAAAT,G,IAAGU,EAAIV,EAAJU,KACxBA,IACO,WAATA,EACI3B,EAAKyB,SAASE,GAAMC,aAAa,MAAO,GACxC5B,EAAKyB,SAASE,GAAMC,aAAa,MAAO,G,IAIhD5B,EAAK6B,iBAAiB,UAEtB,SAAsBC,GACpBA,EAAMC,iBAIN,IAFA,IAA8BC,EAYhC,SAAuBC,GACrB,OAAQT,EAAApC,EAAD,CAAI6C,GAAQC,QAAO,SAACC,EAAOlB,G,IAAIU,EAAIV,EAAJU,KAKpC,OAJIA,IACFQ,EAAQR,GAAQS,OAAOH,EAAOR,SAASE,GAAMU,QAGxCF,C,GACN,G,CAnB2BG,CAActC,GAAtCR,EAAwBwC,EAAxBxC,MAAO+C,EAAiBP,EAAjBO,KAAMC,EAAWR,EAAXQ,OAEVC,EAAI,EAAGA,GAAKD,EAAQC,GAAK,EAChCnD,EAAcmD,EAAGjD,GACdkD,KAAK1B,GACL2B,MAAMrB,GACNsB,UAEHpD,GAAS+C,C","sources":["src/js/03-promises.js","src/js/promiseFunc.js","src/js/refs.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport { refs } from './refs';\nimport createPromise from './promiseFunc';\n\nconst {\n  task03: { form },\n} = refs;\n\n[...form.elements].forEach(({ name }) => {\n  if (name) {\n    name === 'amount'\n      ? form.elements[name].setAttribute('min', 1)\n      : form.elements[name].setAttribute('min', 0);\n  }\n});\n\nform.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  let { delay, step, amount } = createDataObj(form);\n\n  for (let i = 1; i <= amount; i += 1) {\n    createPromise(i, delay)\n      .then(ifPromiseResolve)\n      .catch(ifPromiseReject)\n      .finally();\n\n    delay += step;\n  }\n}\n\nfunction createDataObj(formEl) {\n  return [...formEl].reduce((dataObj, { name }) => {\n    if (name) {\n      dataObj[name] = Number(formEl.elements[name].value);\n    }\n\n    return dataObj;\n  }, {});\n}\n\nfunction ifPromiseResolve({ position, delay }) {\n  Notify.success(`Fulfilled promise ${position} in ${delay}ms`);\n}\n\nfunction ifPromiseReject({ position, delay }) {\n  Notify.failure(`Rejected promise ${position} in ${delay}ms`);\n}\n","export default function createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.5;\n\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n","const refs = {\n  task01: {\n    launchBtn: document.querySelector('[data-start]'),\n    stopBtn: document.querySelector('[data-stop]'),\n    documentBody: document.body,\n  },\n  task02: {\n    datetimeEl: document.querySelector('input[id=\"datetime-picker\"]'),\n    startBtn: document.querySelector('button[data-start]'),\n    outptuElements: document.querySelectorAll('.value'),\n    timerEl: document.querySelector('.timer'),\n  },\n  task03: { form: document.querySelector('.form') },\n};\n\nexport { refs };\n"],"names":["$8nrFW","parcelRequire","$b77f415e4204e268$export$2e2bcd8739ae039","position","delay","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","$ce04d3a99e08e73b$var$form","task01","launchBtn","document","querySelector","stopBtn","documentBody","body","task02","datetimeEl","startBtn","outptuElements","querySelectorAll","timerEl","task03","form","$ce04d3a99e08e73b$var$ifPromiseResolve","param","$h6c0i","Notify","success","concat","$ce04d3a99e08e73b$var$ifPromiseReject","failure","$parcel$interopDefault","elements","forEach","name","setAttribute","addEventListener","event","preventDefault","ref","formEl","reduce","dataObj","Number","value","$ce04d3a99e08e73b$var$createDataObj","step","amount","i","then","catch","finally"],"version":3,"file":"03-promises.2162676e.js.map"}